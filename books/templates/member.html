{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Member Dashboard</title>
    <link rel="stylesheet" href="{% static '/css/member.css' %}" />
  </head>
  <body>
    <h1>Welcome, Member</h1>

    <!-- Browse and Borrow Books Section -->
    <section id="browse-books">
      <h2>All Books</h2>
      <div class="book-list">
        <!-- Placeholder for displaying books -->
        {% for book in books %}
        <div class="book-card">
          <h3>{{ book.title }}</h3>
          <p>Author: {{ book.author }}</p>
          <p>Status: {{ book.status }}</p>
          <button onclick="borrowBook({{ book.id }})" {% if book.status != 'Available' %} disabled {% endif %}>
            Borrow
          </button>
          <button onclick="returnBook({{ book.id }})" {% if book.status == 'Available' %} disabled {% endif %}>
            Return
          </button>
        </div>
        {% endfor %}
      </div>
    </section>

    <!-- View Member History -->
    <section id="member-history">
      <h2>View Your Borrowing History</h2>
      <button onclick="openMemberHistoryModal()">View History</button>
    </section>

    <!-- Member History Modal -->
    <div id="memberHistoryModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeMemberHistoryModal()">&times;</span>
        <h2>Member History</h2>
        <div id="memberHistoryContent">
          <!-- Member history will be dynamically populated here -->
        </div>
      </div>
    </div>

    <script src="{% static '/js/member.js' %}"></script>
  </body>
</html>
